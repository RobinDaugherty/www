---
import type { CollectionEntry } from 'astro:content';
import DefaultLayout from './Default.astro';
import FormattedDate from '../components/FormattedDate.astro';
import { Picture } from 'astro:assets';

type Props = {
	post: CollectionEntry<'post'>;
};

const { post } = Astro.props;
const { title, description, heroImage, publishedDate, updatedDate } = post.data;
const { Content } = await post.render();
---

<DefaultLayout pageTitle={title} pageDescription={description}>
	<article>
		<content>
			<header class="page-header">
				{
					heroImage && (
						<hero>
							<Picture src={heroImage} alt="" />
						</hero>
					)
				}
				<h1>{title}</h1>
				<div class="pub-date">
					<FormattedDate date={publishedDate} />
					{
						updatedDate && (
							<>
								{' '}
								<span>
									(Updated on <FormattedDate date={updatedDate} />)
								</span>
							</>
						)
					}
				</div>
			</header>
			<Content />
			<div class="article-body">
				<slot />
				<p><a href="/">Back to root</a></p>
			</div>
		</content>
	</article>
</DefaultLayout>

<style lang="scss"></style>
